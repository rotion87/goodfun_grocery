<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title> å­¤èŠ³å°éšŠ GOOD FUN TEAM </title>
<meta name="color-scheme" content="light only" />
<link rel="icon" type="image/png" href="favicon.png" />

<style>
:root{
  --ink:#121212;
  --red:#ff3b2f;
  --orange:#ffd15a;
  --green:#16b75b;
  --shadow-big:0 18px 50px rgba(0,0,0,.35);
  --shadow-med:0 10px 30px rgba(0,0,0,.18),0 3px 10px rgba(0,0,0,.1);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:ui-sans-serif,-apple-system,BlinkMacSystemFont,"Noto Sans TC","PingFang TC","Microsoft JhengHei",Arial;
  color:var(--ink);
  background:#eafcff url("bg-market.png") center top repeat-y fixed;
  background-size:100% auto;
}

/* ã„…ã„†ã„‡æ¨¡å¼å­—é«” */
body.bpmf-mode{
  font-size:15px;
  line-height:1.8;
}

/* å·¦å´æ‰“å¡ */
.punch-rail{
  position:fixed;
  left:10px; top:60px; bottom:60px;
  width:90px; z-index:40;
  display:flex; align-items:flex-start; justify-content:center;
  pointer-events:none;
}
.punch-track{
  position:relative;
  width:60px; height:100%;
}
#punchCard{
  position:absolute; width:72px; left:50%;
  transform:translateX(-50%);
  filter:drop-shadow(2px 4px 4px rgba(0,0,0,.3));
}
#punchMachine{
  position:absolute; width:80px; left:50%; bottom:-4px;
  transform:translateX(-50%);
}

/* Banner */
header{position:relative; z-index:2;}
.bar{max-width:1200px; margin:0 auto;}
.banner-box{width:100%; border-radius:16px; overflow:hidden;}
.banner{width:100%; height:auto; object-fit:cover;}
@media(max-width:768px){ .banner{height:150px;} }

/* ä¸»å…§å®¹ */
.wrap{max-width:1200px; margin:16px auto 120px; padding:0 12px;}
.main{display:grid; gap:20px; grid-template-columns:1fr;}
@media(min-width:1024px){.main{grid-template-columns:1.4fr .6fr;}}

/* About */
.about{
  background:rgba(255,247,202,.97);
  border:3px solid #000; border-radius:18px;
  padding:16px 18px;
  box-shadow:var(--shadow-med);
}
.about p{line-height:1.7; margin-bottom:10px;}

/* ä½œå“ç‰† */
.grid{
  display:grid; gap:22px; grid-template-columns:1fr;
}
@media(min-width:620px){
  .grid{grid-template-columns:repeat(2,1fr);}
}

.card{
  position:relative; cursor:pointer;
  aspect-ratio:4/3;
}
.star{
  position:absolute; inset:0; margin:auto; width:88%;
  filter:drop-shadow(4px 4px 0 #000);
}
.photo{
  position:absolute; inset:0; margin:auto;
  width:min(72%,540px); height:min(72%,540px);
  object-fit:contain;
  filter:drop-shadow(0 12px 18px rgba(0,0,0,.28));
}

/* éè³£å“æ¨™ç«  */
.badge-nfs{
  position:absolute; top:10px; left:12px;
  padding:2px 8px; font-size:11px;
  border-radius:999px; background:#fff;
  border:2px solid #000; font-weight:700;
  box-shadow:2px 2px 0 #000;
}

/* ä½œå“å */
.name{
  position:absolute; left:50%; bottom:8%; transform:translateX(-50%);
  font-weight:900; font-size:15px; white-space:nowrap;
  color:#fff;
  text-shadow:
    -2px -2px 0 #c90000, 2px -2px 0 #c90000,
    -2px  2px 0 #c90000, 2px  2px 0 #c90000,
     0px  3px 4px rgba(0,0,0,.55);
}
@media(min-width:768px){.name{font-size:18px;}}

/* IG */
.ig-icons{
  position:fixed; top:16px; right:20px; z-index:200;
  display:flex; flex-direction:column; gap:10px;
}
.ig-icons img{
  width:44px; height:44px;
  border:2px solid #000; background:#fff;
  border-radius:10px; box-shadow:2px 2px 0 #000;
}

/* èªè¨€æŒ‰éˆ• */
.lang-fab{
  position:fixed; right:14px; bottom:14px; z-index:150;
  display:flex; flex-direction:column; gap:6px;
}
.lang-btn{
  min-width:80px;
  padding:4px 10px;
  border-radius:12px;
  border:2px solid #000;
  background:#fff;
  font-size:13px;
  box-shadow:2px 2px 0 #000;
  cursor:pointer;
}
.lang-btn.active{
  outline:3px solid var(--orange);
}

/* ä½œå“å½ˆçª— */
.modal{position:fixed; inset:0; display:none; z-index:90; align-items:center; justify-content:center;}
.modal.show{display:flex;}
.backdrop{position:absolute; inset:0; background:rgba(0,0,0,.5);}
.panel{
  position:relative; background:#fff;
  border:3px solid #000; border-radius:24px;
  overflow:hidden; max-width:min(1100px,92vw);
}
.panel-head{
  background:#fffce7; padding:14px 18px;
  border-bottom:3px solid #000;
  display:flex; justify-content:space-between; align-items:center;
}
.close{
  border:2px solid #000; border-radius:10px;
  padding:6px 10px; background:#ffef6a;
  font-weight:900; cursor:pointer;
  box-shadow:2px 2px 0 #000;
}
.panel-body{
  display:grid; gap:18px; padding:18px;
  grid-template-columns:1.1fr .9fr;
}
@media(max-width:860px){.panel-body{grid-template-columns:1fr;}}

.basket-bg{width:100%; border-radius:16px;}
.work-photo{
  position:absolute; inset:0; margin:auto;
  max-width:min(85%,720px); max-height:80%;
  object-fit:contain;
}

/* shop éµ */
.shop-link a{
  display:inline-block; padding:8px 14px;
  border-radius:999px; background:#ffef6a;
  border:2px solid #000; font-size:14px;
  box-shadow:2px 2px 0 #000;
  text-decoration:none; color:#000;
  transition:transform .15s, box-shadow .15s;
}
.shop-link a:hover{
  transform:translate(-1px,-1px);
  box-shadow:3px 3px 0 #000;
}

/* ã„…ã„†ã„‡ å½ˆä¸€ä¸‹ */
.shop-link a.bpmf-pop{
  animation:bump .25s;
}
@keyframes bump{
  0%{transform:scale(1);}
  50%{transform:scale(1.06);}
  100%{transform:scale(1);}
}

/* å½©å¸¶æ‰è½(è®Šæ…¢ç‰ˆ 1.5s) */
.confetti,
.cute-fetti{
  position:fixed;
  top:-16px;
  left:0;
  pointer-events:none;
  opacity:0;
  animation:confettiDrop 1.5s ease-out forwards;
  z-index:300;
}
@keyframes confettiDrop{
  0%{
    transform:translateY(0) rotate(0deg);
    opacity:1;
  }
  80%{
    opacity:1;
  }
  100%{
    transform:translateY(110vh) rotate(360deg);
    opacity:0;
  }
}

/* æ‰“å¡å½ˆçª— */
.punch-overlay{
  position:fixed; inset:0;
  background:rgba(0,0,0,.55);
  display:none; align-items:center; justify-content:center;
  z-index:250;
}
.punch-overlay.show{display:flex;}
.punch-dialog{
  background:#fffce7; border-radius:20px;
  border:3px solid #000;
  padding:18px 24px; max-width:280px;
  text-align:center;
}
</style>
</head>

<body>
<!-- IG -->
<div class="ig-icons">
  <a href="https://www.instagram.com/rotion87" target="_blank" rel="noopener">
    <img src="ig-rotion.png" alt="Rotion87">
  </a>
  <a href="https://www.instagram.com/l72uo_" target="_blank" rel="noopener">
    <img src="ig-l72uo.png" alt="No.423">
  </a>
</div>

<!-- å·¦å´æ‰“å¡ -->
<div class="punch-rail">
  <div class="punch-track">
    <img id="punchCard" src="punchcard.png" alt="">
    <img id="punchMachine" src="punchmachine.png" alt="">
  </div>
</div>

<!-- Banner -->
<header>
  <div class="bar">
    <div class="banner-box">
      <img class="banner" src="banner-goodfunteam.png" alt="">
    </div>
  </div>
</header>

<!-- Main -->
<main class="wrap">
  <section class="main">
    <div>
      <div class="grid" id="workGrid"></div>
    </div>

    <aside class="about">
      <h3 id="aboutTitle">å­¤èŠ³å°éšŠ GOOD FUN TEAM</h3>
      <p id="aboutP1">ç”± ROTION87 èˆ‡ No.423 å…±åŒçµ„æˆã€‚å…©äººçµåˆå½±åƒã€é€ å‹èˆ‡æ‰‹ä½œç‰©ä»¶çš„å‰µä½œå¯¦è¸ï¼›ä»¥è§’è‰²ã€Œé¼ ã€èˆ‡ã€Œé›ªè²‚ã€ç‚ºè±¡å¾µï¼Œæ¢ç´¢æ—¥å¸¸èˆ‡ç•°æƒ³çš„äº¤ç•Œï¼Œåœ¨çœŸå¯¦èˆ‡è™›æ§‹ä¹‹é–“å»ºç«‹å±¬æ–¼å…©äººçš„æ•˜äº‹ä¸–ç•Œã€‚</p>
      <p id="aboutP2">ROTION87ï¼šä»¥è§€å¯Ÿç‚ºèµ·é»ï¼Œå»¶ä¼¸è‡³æ›¸ç±ã€ç‰©ä»¶èˆ‡è£ç½®çš„å‰µä½œï¼›å–œæ­¡åšä¸€äº›å¥½ç©çš„äº‹ï¼Œå¾æ—¥å¸¸ä¸­æ‰¾åˆ°æ–°çš„å‰µä½œæ–¹å¼èˆ‡è¡¨é”èªè¨€ã€‚</p>
      <p id="aboutP3">No.423ï¼šæ“…é•·å¹³é¢è¦–è¦ºã€å­—å‹ã€æ’ç•«èˆ‡å‹•æ…‹è¨­è¨ˆï¼›åˆ©ç”¨ä¸Šç­å¾Œæ®˜é¤˜çš„è¨­è¨ˆåŠ›ï¼Œåšä¸€äº›è®“è‡ªå·±é–‹å¿ƒçš„å‰µä½œã€‚</p>
    </aside>
  </section>
</main>

<!-- èªè¨€åˆ‡æ› -->
<div class="lang-fab" id="langFab">
  <button class="lang-btn active" data-lang="zh">ä¸­æ–‡</button>
  <button class="lang-btn" data-lang="en">English</button>
  <button class="lang-btn" data-lang="ja">æ—¥æœ¬èª</button>
  <button class="lang-btn" data-lang="ko">í•œêµ­ì–´</button>
  <button class="lang-btn" data-lang="bpmf">ã„…ã„†ã„‡ã„ˆ</button>
</div>

<!-- ä½œå“å½ˆçª— -->
<div class="modal" id="modal">
  <div class="backdrop" data-close="1"></div>
  <div class="panel">
    <div class="panel-head">
      <div class="panel-title" id="mdTitle">â€”</div>
      <button class="close" data-close="1">âœ•</button>
    </div>
    <div class="panel-body">
      <div class="basket-wrap" style="position:relative;">
        <img class="basket-bg" id="mdBasket" alt="">
        <img class="work-photo" id="mdPhoto" alt="">
      </div>
      <div>
        <div class="meta" id="mdMeta"></div>
        <div class="desc" id="mdDesc"></div>
        <div class="shop-link" id="mdShop" style="margin-top:16px; display:none;">
          <a href="#" target="_blank" rel="noopener" id="mdShopText">å‰å¾€è³¼è²·é é¢</a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- æ‰“å¡å½ˆçª— -->
<div class="punch-overlay" id="punchOverlay">
  <div class="punch-dialog">
    <h2>ç°½åˆ°æˆåŠŸï¼ å­¤èŠ³æ­¡è¿æ‚¨â‚’â‚â‚ŠË’â‚ƒË“â‚â‚’â–â–‚â–ƒâ–…â–†â–“â–’â–‘âœ©</h2>
    <p id="punchTime"></p>
    <small>é»æ“Šä»»æ„è™•é—œé–‰</small>
  </div>
</div>
<script>
// ========= èªç³» & å…±ç”¨ pick =========
let currentLang = 'zh';
function pick(obj){
  if(!obj) return '';
  if(obj[currentLang]) return obj[currentLang];
  if(obj.en) return obj.en;
  return obj.zh || '';
}

/* About æ–‡å­— */
const ABOUT = {
  title:{
    zh:'å­¤èŠ³å°éšŠ GOOD FUN TEAM',
    en:'GOOD FUN TEAM',
    ja:'ã“ã»ã† ã—ã‚‡ã†ãŸã„ GOOD FUN TEAM',
    ko:'ê³ ë°©ì†ŒëŒ€ GOOD FUN TEAM',
    bpmf:'ã„ã„¨ ã„ˆã„¤ ã„’ã„§ã„ Ë‡ ã„‰ã„¨ã„Ÿ GOOD FUN TEAM (à¸…>ï¹<à¸…)'
  },
  p1:{
    zh:'ç”± ROTION87 èˆ‡ No.423 å…±åŒçµ„æˆã€‚å…©äººçµåˆå½±åƒã€é€ å‹èˆ‡æ‰‹ä½œç‰©ä»¶çš„å‰µä½œå¯¦è¸ï¼›ä»¥è§’è‰²ã€Œé¼ ã€èˆ‡ã€Œé›ªè²‚ã€ç‚ºè±¡å¾µï¼Œæ¢ç´¢æ—¥å¸¸èˆ‡ç•°æƒ³çš„äº¤ç•Œï¼Œåœ¨çœŸå¯¦èˆ‡è™›æ§‹ä¹‹é–“å»ºç«‹å±¬æ–¼å…©äººçš„æ•˜äº‹ä¸–ç•Œã€‚',
    en:'Formed by ROTION87 and No.423, GOOD FUN TEAM combines photography, objects and handmade pieces.',
    ja:'ROTION87 ã¨ No.423 ã® 2 äººã«ã‚ˆã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆã€‚',
    ko:'ROTION87ê³¼ No.423ì´ í•¨ê»˜ ê¾¸ë¦° ì°½ì‘ ë“€ì˜¤ì…ë‹ˆë‹¤ã€‚',
    bpmf:'ç”± ROTION87 è·Ÿ No.423 ã„ã„¨ã„¥ËŠ ã„Šã„¨ã„¥ËŠ çµ„æˆã„‰å°éšŠï½'
  },
  p2:{
    zh:'ROTION87ï¼šä»¥è§€å¯Ÿç‚ºèµ·é»ï¼Œå»¶ä¼¸è‡³æ›¸ç±ã€ç‰©ä»¶èˆ‡è£ç½®çš„å‰µä½œï¼›å–œæ­¡åšä¸€äº›å¥½ç©çš„äº‹ï¼Œå¾æ—¥å¸¸ä¸­æ‰¾åˆ°æ–°çš„å‰µä½œæ–¹å¼èˆ‡è¡¨é”èªè¨€ã€‚',
    en:'ROTION87: Starts from observation and expands into books, objects and installations.',
    ja:'ROTION87ï¼šè¦³å¯Ÿã‚’å‡ºç™ºç‚¹ã«è¡¨ç¾ã‚’åºƒã’ã¦ã„ãã€‚',
    ko:'ROTION87: ê´€ì°°ì—ì„œ ì¶œë°œí•´ ë‹¤ì–‘í•œ ì‘ì—…ìœ¼ë¡œ í™•ì¥í•©ë‹ˆë‹¤ã€‚',
    bpmf:'ROTION87ï¼šå¾ ã„ã„¨ã„¢ ã„”ã„šËŠ é–‹å§‹ï¼Œä¸€è·¯å»¶ä¼¸ï½'
  },
  p3:{
    zh:'No.423ï¼šæ“…é•·å¹³é¢è¦–è¦ºã€å­—å‹ã€æ’ç•«èˆ‡å‹•æ…‹è¨­è¨ˆï¼›åˆ©ç”¨ä¸Šç­å¾Œæ®˜é¤˜çš„è¨­è¨ˆåŠ›ï¼Œåšä¸€äº›è®“è‡ªå·±é–‹å¿ƒçš„å‰µä½œã€‚',
    en:'No.423: Works with design, illustration and motion graphics.',
    ja:'No.423ï¼šã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚„ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¾—æ„ã¨ã™ã‚‹ã€‚',
    ko:'No.423: ê·¸ë˜í”½ê³¼ ëª¨ì…˜ ë””ìì¸ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì—…í•©ë‹ˆë‹¤ã€‚',
    bpmf:'No.423ï¼šæ“…é•·å¹³é¢ã€å­—å‹ã€æ’ç•«è·Ÿå‹•æ…‹è¨­è¨ˆï½'
  }
};

/* UI æ–‡æ¡ˆ */
const UI_TEXT = {
  shop:{
    zh:'å‰å¾€è³¼è²·é é¢',
    en:'Go to shop page',
    ja:'è³¼å…¥ãƒšãƒ¼ã‚¸ã¸',
    ko:'êµ¬ë§¤ í˜ì´ì§€ë¡œ ì´ë™',
    bpmf:'ã„‘ã„§ã„¢ËŠ ã„¨ã„¤Ë‡ è³¼è²·é é¢ (à¸‡ â€¢Ì€_â€¢Ì)à¸‡'
  },
  nfs:{
    zh:'éè³£å“',
    en:'NOT FOR SALE',
    ja:'éå£²å“',
    ko:'ë¹„ë§¤í’ˆ',
    bpmf:'éã„‡ã„Ë‹å“ ( â€¢ÌÏ‰â€¢Ì€ )'
  }
};

/* ========= ä½œå“è³‡æ–™ ========= */
const SHOP_URL = 'https://myship.7-11.com.tw/general/detail/GM2511188554560';

/*ï¼ˆä½œå“æ¸…å–®æ­¤è™•çœç•¥ï¼Œä¿æŒä½ åŸæœ¬çš„ WORKS é™£åˆ—å³å¯ï¼‰*/

/* ========= ä½œå“ç‰† render ========= */
const grid = document.getElementById('workGrid');
let currentOpenId = null;

function renderGrid(){
  grid.innerHTML = WORKS.map(w=>`
    <article class="card" data-id="${w.id}">
      <img class="star" src="sticker_yellow.png" alt="">
      <img class="photo" src="${w.cover}" alt="">
      ${w.notForSale ? `<div class="badge-nfs">${pick(UI_TEXT.nfs)}</div>` : ''}
      <div class="name">${pick(w.title)}</div>
    </article>
  `).join('');
}

/* ========= Modal ========= */
const modal = document.getElementById('modal');
const mdTitle = document.getElementById('mdTitle');
const mdMeta  = document.getElementById('mdMeta');
const mdDesc  = document.getElementById('mdDesc');
const mdPhoto = document.getElementById('mdPhoto');
const mdBasket= document.getElementById('mdBasket');
const mdShop  = document.getElementById('mdShop');
const mdShopA = document.getElementById('mdShopText');

function fillModal(w){
  mdTitle.textContent = pick(w.title);
  mdMeta.textContent  = pick(w.meta);
  mdDesc.textContent  = pick(w.desc);
  mdPhoto.src = w.cover;
  mdBasket.src = w.basket;

  if(w.shop){
    mdShop.style.display = 'block';
    mdShopA.href = w.shop;
  }else{
    mdShop.style.display = 'none';
    mdShopA.removeAttribute('href');
  }
  mdShopA.textContent = pick(UI_TEXT.shop);
}

function openModal(id){
  const w = WORKS.find(x=>x.id===id);
  currentOpenId = id;
  fillModal(w);
  modal.classList.add('show');
}

function closeModal(){
  currentOpenId = null;
  modal.classList.remove('show');
}

grid.addEventListener('click', e=>{
  const card = e.target.closest('.card');
  if(card) openModal(card.dataset.id);
});
modal.addEventListener('click', e=>{
  if(e.target.dataset.close) closeModal();
});
document.addEventListener('keydown', e=>{
  if(e.key === 'Escape') closeModal();
});

/* ========= ä¿®æ­£ç‰ˆ å½©å¸¶å‹•ç•« ========= */
function dropConfetti(){
  const count = 22;
  const cuteMode = (currentLang === 'bpmf');

  const cuteSymbols = ['âœ§','â€','â™¡','â‹†','ï½¡'];
  const normalSymbols = ['ğŸ‰','âœ¨','â­','ğŸ’›'];

  const symbols = cuteMode ? cuteSymbols : normalSymbols;

  for(let i = 0; i < count; i++){
    const el = document.createElement('div');
    el.textContent = symbols[Math.floor(Math.random() * symbols.length)];
    el.className = cuteMode ? 'cute-fetti' : 'confetti';
    el.style.left = (Math.random() * 100) + 'vw';
    el.style.fontSize = (16 + Math.random() * 10) + 'px';
    document.body.appendChild(el);

    setTimeout(() => el.remove(), 1600); /* èˆ‡å‹•ç•«é•·åº¦ 1.5s å°æ‡‰ */
  }
}

/* ========= æ‰“å¡æ©Ÿ scroll ========= */
const punchCard   = document.getElementById('punchCard');
const punchMachine= document.getElementById('punchMachine');
const punchOverlay= document.getElementById('punchOverlay');
const punchTimeEl = document.getElementById('punchTime');
const punchTrack  = document.querySelector('.punch-track');
let hasPunched = false;

function updatePunchFromScroll(){
  const doc = document.documentElement;
  const scrollTop = doc.scrollTop || document.body.scrollTop;
  const scrollHeight = (doc.scrollHeight - doc.clientHeight) || 1;
  const ratio = Math.max(0, Math.min(1, scrollTop / scrollHeight));

  const trackHeight = punchTrack.clientHeight;
  const cardHeight  = punchCard.clientHeight;
  const machineHeight = punchMachine.clientHeight;
  const bottomLimit = trackHeight - cardHeight - machineHeight*0.3;
  const pos = bottomLimit * ratio;

  punchCard.style.top = pos + 'px';

  if(!hasPunched && ratio >= 0.98){
    hasPunched = true;
    punchTimeEl.textContent = new Date().toLocaleString('zh-TW');
    punchOverlay.classList.add('show');
    dropConfetti();
  }
}

punchOverlay.addEventListener('click', ()=>{
  punchOverlay.classList.remove('show');
});

/* ========= èªè¨€åˆ‡æ› ========= */
const langBtns = document.querySelectorAll('.lang-btn');
const aboutTitleEl = document.getElementById('aboutTitle');
const aboutP1El    = document.getElementById('aboutP1');
const aboutP2El    = document.getElementById('aboutP2');
const aboutP3El    = document.getElementById('aboutP3');

function applyLangToAbout(){
  aboutTitleEl.textContent = pick(ABOUT.title);
  aboutP1El.textContent    = pick(ABOUT.p1);
  aboutP2El.textContent    = pick(ABOUT.p2);
  aboutP3El.textContent    = pick(ABOUT.p3);
}

langBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    langBtns.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    currentLang = btn.dataset.lang;

    document.body.classList.toggle('bpmf-mode', currentLang === 'bpmf');

    renderGrid();
    applyLangToAbout();

    if(currentOpenId){
      const w = WORKS.find(x=>x.id===currentOpenId);
      if(w) fillModal(w);
    }
  });
});

/* ã„…ã„†ã„‡æ¨¡å¼è³¼ç‰©éµå½ˆä¸€ä¸‹ */
mdShopA.addEventListener('click', ()=>{
  if(currentLang !== 'bpmf') return;
  mdShopA.classList.remove('bpmf-pop');
  void mdShopA.offsetWidth;
  mdShopA.classList.add('bpmf-pop');
});

/* ========= åˆå§‹ ========= */
window.addEventListener('load', ()=>{
  renderGrid();
  applyLangToAbout();
  updatePunchFromScroll();
});
window.addEventListener('scroll', updatePunchFromScroll);
window.addEventListener('resize', updatePunchFromScroll);
</script>
</body>
</html>
