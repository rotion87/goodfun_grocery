<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title> å­¤èŠ³å°éšŠ GOOD FUN TEAM </title>
<meta name="color-scheme" content="light only" />
<style>
:root{
  --ink:#121212;
  --red:#ff3b2f;
  --orange:#ffd15a;
  --green:#16b75b;
  --shadow-big:0 18px 50px rgba(0,0,0,.35);
  --shadow-med:0 10px 30px rgba(0,0,0,.18),0 3px 10px rgba(0,0,0,.1);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:ui-sans-serif,-apple-system,BlinkMacSystemFont,"Noto Sans TC","PingFang TC","Microsoft JhengHei",Arial;
  color:var(--ink);
  background:#eafcff url("bg-market.png") center top repeat-y fixed;
  background-size:100% auto;
}

/* å·¦å´æ‰“å¡æ»‘é“ */
.punch-rail{
  position:fixed;
  left:10px;
  top:60px;
  bottom:60px;
  width:90px;
  z-index:40;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  pointer-events:none;
}
.punch-track{
  position:relative;
  width:60px;
  height:100%;
}
#punchCard{
  position:absolute;
  width:72px;
  left:50%;
  transform:translate(-50%,0);
  filter:drop-shadow(2px 4px 4px rgba(0,0,0,.3));
}
#punchMachine{
  position:absolute;
  width:80px;
  left:50%;
  bottom:-4px;
  transform:translateX(-50%);
}

/* Banner */
header{
  position:relative;
  z-index:2;
  padding:0;
}
.bar{
  max-width:1200px;
  margin:0 auto;
}
.banner-box{
  width:100%;
  border-radius:16px;
  overflow:hidden;
}
.banner{
  display:block;
  width:100%;
  height:auto;
  object-fit:cover;
}
@media(max-width:768px){
  .banner{ height:150px; }
}

/* ä¸»å…§å®¹ */
.wrap{
  max-width:1200px;
  margin:16px auto 120px;
  padding:0 12px;
}
.main{
  display:grid;gap:20px;grid-template-columns:1fr;
}
@media(min-width:1024px){
  .main{grid-template-columns:1.4fr .6fr}
}

/* å³å´ä»‹ç´¹ */
.about{
  background:rgba(255,247,202,.97);
  border:3px solid #000;border-radius:18px;padding:16px 18px;
  box-shadow:var(--shadow-med);
}
.about h3{margin:6px 0 10px;font-size:18px}
.about p{margin:0 0 10px;line-height:1.7}

/* ä½œå“ç‰† */
.grid{display:grid;gap:22px;grid-template-columns:1fr}
@media(min-width:620px){.grid{grid-template-columns:repeat(2,1fr)}}

.card{
  position:relative;
  cursor:pointer;
  aspect-ratio:4/3;
}
.star{
  position:absolute;inset:0;margin:auto;width:88%;object-fit:contain;
  filter:drop-shadow(4px 4px 0 #000);
}
.photo{
  position:absolute;inset:0;margin:auto;width:min(72%,540px);height:min(72%,540px);
  object-fit:contain;
  filter:drop-shadow(0 12px 18px rgba(0,0,0,.28));
}
.name{
  position:absolute;left:50%;bottom:8%;transform:translateX(-50%);
  font-weight:900;font-size:15px;white-space:nowrap;color:#fff;
  text-shadow:-2px -2px 0 #c90000,2px -2px 0 #c90000,-2px 2px 0 #c90000,2px 2px 0 #c90000,0px 3px 4px rgba(0,0,0,.55);
}
@media(min-width:768px){.name{font-size:18px}}

/* IG åœ–ç¤º */
.ig-icons{
  position:fixed;top:16px;right:20px;z-index:200;
  display:flex;flex-direction:column;gap:10px;
}
.ig-icons img{
  width:44px;height:44px;border:2px solid #000;border-radius:10px;background:#fff;
  box-shadow:2px 2px 0 #000;
}

/* èªè¨€åˆ‡æ› */
.lang-fab{
  position:fixed;right:14px;bottom:14px;z-index:150;
  display:flex;flex-direction:column;gap:6px;
}
.lang-btn{
  width:44px;height:44px;border-radius:12px;background:#fff;
  border:2px solid #000;font-size:22px;
  cursor:pointer;box-shadow:2px 2px 0 #000;
}
.lang-btn.active{
  outline:3px solid var(--orange);
}

/* ä½œå“å½ˆçª— */
.modal{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:90;
}
.modal.show{display:flex}
.backdrop{
  position:absolute;inset:0;background:rgba(0,0,0,.5);
}
.panel{
  position:relative;z-index:1;background:#fff;
  max-width:min(1100px,92vw);
  border:3px solid #000;border-radius:24px;overflow:hidden;
}
.panel-head{
  display:flex;justify-content:space-between;align-items:center;
  padding:14px 18px;border-bottom:3px solid #000;background:#fffce7;
}
.panel-title{font-weight:900;font-size:18px}
.close{
  border:2px solid #000;border-radius:10px;background:#ffef6a;
  padding:6px 10px;font-weight:900;cursor:pointer;box-shadow:2px 2px 0 #000;
}
.panel-body{
  display:grid;gap:18px;padding:18px;
  grid-template-columns:1.1fr .9fr;
}
@media(max-width:860px){
  .panel-body{grid-template-columns:1fr}
}

.basket-bg{
  width:100%;display:block;border-radius:16px;
}
.work-photo{
  position:absolute;inset:0;margin:auto;max-width:min(85%,720px);
  max-height:80%;object-fit:contain;
  filter:drop-shadow(0 12px 20px rgba(0,0,0,.25));
}

.meta{color:#666;font-size:14px;margin:.2rem 0 1rem}
.desc{white-space:pre-wrap;line-height:1.7}

/* ğŸ›’ è³¼ç‰©é€£çµ */
.shop-link{ margin-top:16px; }
.shop-link a{
  padding:8px 14px;border-radius:999px;border:2px solid #000;
  background:#ffef6a;font-weight:700;font-size:14px;
  text-decoration:none;color:#000;
  box-shadow:2px 2px 0 #000;
}

/* æ‰“å¡æç¤º */
.punch-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.55);
  display:none;align-items:center;justify-content:center;
  z-index:250;
}
.punch-overlay.show{display:flex}
.punch-dialog{
  background:#fffce7;border-radius:20px;border:3px solid #000;padding:18px 24px;
  max-width:280px;text-align:center;
}
</style>
</head>
<body>

<!-- IG -->
<div class="ig-icons">
  <a href="https://www.instagram.com/rotion87" target="_blank"><img src="ig-rotion.png"></a>
  <a href="https://www.instagram.com/l72uo_" target="_blank"><img src="ig-l72uo.png"></a>
</div>

<!-- å·¦å´æ‰“å¡ -->
<div class="punch-rail"><div class="punch-track">
  <img id="punchCard" src="punchcard.png">
  <img id="punchMachine" src="punchmachine.png">
</div></div>

<!-- Banner -->
<header><div class="bar"><div class="banner-box">
  <img class="banner" src="banner-goodfunteam.png">
</div></div></header>

<!-- Main -->
<main class="wrap">
<section class="main">
  <div><div class="grid" id="workGrid"></div></div>

  <aside class="about">
    <h3>å­¤èŠ³å°éšŠ GOOD FUN TEAM</h3>
    <p>ç”± ROTION87 èˆ‡ No.423 å…±åŒçµ„æˆã€‚å…©äººçµåˆå½±åƒã€é€ å‹èˆ‡æ‰‹ä½œç‰©ä»¶çš„å‰µä½œå¯¦è¸ï¼›ä»¥è§’è‰²ã€Œé¼ ã€èˆ‡ã€Œé›ªè²‚ã€ç‚ºè±¡å¾µï¼Œæ¢ç´¢æ—¥å¸¸èˆ‡ç•°æƒ³çš„äº¤ç•Œï¼Œåœ¨çœŸå¯¦èˆ‡è™›æ§‹ä¹‹é–“å»ºç«‹å±¬æ–¼å…©äººçš„æ•˜äº‹ä¸–ç•Œã€‚</p>
    <p><b>ROTION87ï¼š</b>ä»¥è§€å¯Ÿç‚ºèµ·é»ï¼Œå»¶ä¼¸è‡³æ›¸ç±ã€ç‰©ä»¶èˆ‡è£ç½®çš„å‰µä½œï¼›å–œæ­¡åšä¸€äº›å¥½ç©çš„äº‹ï¼Œå¾æ—¥å¸¸ä¸­æ‰¾åˆ°æ–°çš„å‰µä½œæ–¹å¼èˆ‡è¡¨é”èªè¨€ã€‚</p>
    <p><b>No.423ï¼š</b>æ“…é•·å¹³é¢è¦–è¦ºã€å­—å‹ã€æ’ç•«èˆ‡å‹•æ…‹è¨­è¨ˆï¼›åˆ©ç”¨ä¸Šç­å¾Œæ®˜é¤˜çš„è¨­è¨ˆåŠ›ï¼Œåšä¸€äº›è®“è‡ªå·±é–‹å¿ƒçš„å‰µä½œã€‚</p>
  </aside>
</section>
</main>

<!-- èªè¨€åˆ‡æ› -->
<div class="lang-fab" id="langFab">
  <button class="lang-btn active" data-lang="zh">ğŸ‡¹ğŸ‡¼</button>
  <button class="lang-btn" data-lang="ja">ğŸ‡¯ğŸ‡µ</button>
  <button class="lang-btn" data-lang="ko">ğŸ‡°ğŸ‡·</button>
  <button class="lang-btn" data-lang="en">ğŸ‡¬ğŸ‡§</button>
</div>

<!-- ä½œå“å½ˆçª— -->
<div class="modal" id="modal">
  <div class="backdrop" data-close="1"></div>
  <div class="panel">
    <div class="panel-head">
      <div class="panel-title" id="mdTitle">â€”</div>
      <button class="close" data-close="1">âœ•</button>
    </div>
    <div class="panel-body">
      <div class="basket-wrap" style="position:relative;">
        <img class="basket-bg" id="mdBasket">
        <img class="work-photo" id="mdPhoto">
      </div>
      <div>
        <div class="meta" id="mdMeta"></div>
        <div class="desc" id="mdDesc"></div>
        <div class="shop-link" id="mdShop" style="display:none;">
          <a href="#" target="_blank">å‰å¾€è³¼è²·é é¢</a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- æ‰“å¡ -->
<div class="punch-overlay" id="punchOverlay">
  <div class="punch-dialog">
    <h2>ç°½åˆ°æˆåŠŸï¼å­¤èŠ³æ­¡è¿æ‚¨â‚’â‚â‚ŠË’â‚ƒË“â‚â‚’â–â–‚â–ƒâ–…â–†â–“â–’â–‘âœ©</h2>
    <p id="punchTime"></p>
    <small>é»æ“Šä»»æ„è™•é—œé–‰</small>
  </div>
</div>

<script>
/* ============================
   ä½œå“è³‡æ–™ï¼ˆéè³£å“æ’åœ¨æœ€å¾Œï¼‰
   ============================ */
const WORKS = [

  /* 1. Soft Drinksã€Šè»Ÿã€‹ç½è£çµ²å·¾ */
  {
    id:'softdrinks',
    cover:'work-softdrinks.png',
    basket:'basket_orange.png',
    title:{ zh:'Soft Drinksã€Šè»Ÿã€‹ç½è£çµ²å·¾' },
    meta:{ zh:'æ”å½± Ã— åŒ…è£è¨­è¨ˆ' },
    desc:{ zh:'ä½¿ç”¨ 2023â€“2025 æ”¶é›†çš„é…’ç½ç…§ç‰‡è½‰ç‚ºçµ²å·¾ä¸¦å°å…¥é‹ç½ï¼Œä»¥ä¸å«é…’ç²¾çš„æŸ”è»Ÿå½¢è±¡å°ç…§é£²é…’æ™‚çš„ä¸å¯é€†æ€§ï¼Œè€Œèª•ç”Ÿçš„ç„¡é…’ç²¾ä½œå“ã€‚' },
    shop:''
  },

  /* 2. Hand-it æ‰‹å¿ƒè²¼ */
  {
    id:'handit',
    cover:'work-handit.png',
    basket:'basket_red.png',
    title:{ zh:'Hand-it æ‰‹å¿ƒè²¼' },
    meta:{ zh:'æ–‡å…·å°ç‰©' },
    desc:{ zh:'å› ç‚ºæ€•å¿˜è¨˜å°±æŠŠè¦è¨˜çš„äº‹å¯«åœ¨æ‰‹ä¸Šï¼Œæ–¼æ˜¯åšå‡ºäº†å¯è²¼çš„æ‰‹æŒä¾¿åˆ©è²¼ã€‚' },
    shop:''
  },

  /* 3. ç©ºå¿ƒ In Place */
  {
    id:'hollow',
    cover:'work-hollow.png',
    basket:'basket_blue.png',
    title:{ zh:'ç©ºå¿ƒ In Place' },
    meta:{ zh:'æ”å½±æŠ˜é å°èªŒ Ã— æ°´æ³¥ç‰©ä»¶' },
    desc:{ zh:'å› ç”Ÿæ´»ç¿’æ…£æ”¹è®Šï¼Œå› ç·£éš›æœƒä¸‹é–‹å§‹è¨˜éŒ„åŸå¸‚è£¡è¢«å®‰æ”¾çš„ç©ºå¿ƒç£šã€‚ä»¥æ‰‹å·¥çŒè£½æ°´æ³¥ç£šä½œç‚ºæ›¸è¡£ï¼ŒæŠ˜é å°èªŒè±¡å¾µå †ç–Šæ„è±¡ã€‚' },
    shop:''
  },

  /* 4. 30æ™‚é–“ 2nd Edition */
  {
    id:'thirty',
    cover:'work-30hours.png',
    basket:'basket_green.png',
    title:{ zh:'30æ™‚é–“ 2nd Edition' },
    meta:{ zh:'æ”å½±å°èªŒï¼ˆå†è²©ï¼‰ï½œA5' },
    desc:{ zh:'ä»¥ã€Œ30 å°æ™‚åˆ¶ã€è§€å¯Ÿæ–°å®¿ï¼æ¶‰è°·çš„åŸå¸‚ç¯€å¥ã€‚2024 åˆç‰ˆï¼Œ2025 å†ç·¨æ’å†ç‰ˆã€‚' },
    shop:''
  },

  /* 5. 30æ™‚é–“ æµ·å ± */
  {
    id:'thirty_poster',
    cover:'work-30hours-poster.png',
    basket:'basket_green.png',
    title:{ zh:'30æ™‚é–“ æµ·å ±' },
    meta:{ zh:'æµ·å ±ï½œå°ºå¯¸ï¼šæ—¥æœ¬ B5 å°æµ·å ±' },
    desc:{ zh:'ä»¥ã€Š30æ™‚é–“ã€‹å°èªŒä¸»é¡Œå»¶ä¼¸ä¹‹å–®å¼µæµ·å ±ã€‚' },
    shop:''
  },

  /* 6. PASTE PORT - ä¸Šè¡— */
  {
    id:'pasteport_street',
    cover:'work-pasteport-street.png',
    basket:'basket_blue.png',
    title:{ zh:'PASTE PORT - ä¸Šè¡—' },
    meta:{ zh:'è²¼ç´™æ”¶é›†å°èªŒï½œA5' },
    desc:{ zh:'ä»¥å°ç£è¡—é ­æ”¶é›†åˆ°çš„å…ƒç´ ç‚ºä¸»é¡Œï¼Œåšæˆå…·å‚™è²¼ç´™ç°¿åŠŸèƒ½çš„å°èªŒï¼Œä¸¦ä¸”é™„ä¸ŠåŒæ¨£ä¸»é¡Œçš„è²¼ç´™ã€‚å¤§å®¶èƒ½ä»»æ„æ’•ä¸‹ä¸¦éš¨æ„è²¼ä¸Šï¼Œä»£è¡¨æ—…éŠæ™‚çš„ç•™ä¸‹èˆ‡å¸¶èµ°ï¼Œä¹Ÿå°±æ˜¯ç‚ºä»€éº¼å«åš PASTE PORTã€‚' },
    shop:''
  },

  /* 7. PASTE PORT - æ³¨æ„ */
  {
    id:'pasteport_notice',
    cover:'work-pasteport-notice.png',
    basket:'basket_blue.png',
    title:{ zh:'PASTE PORT - æ³¨æ„' },
    meta:{ zh:'è²¼ç´™æ”¶é›†å°èªŒï½œA5' },
    desc:{ zh:'ä»¥æ±äº¬è¡—é ­æ”¶é›†åˆ°çš„å…ƒç´ ç‚ºä¸»é¡Œï¼Œåšæˆå…·å‚™è²¼ç´™ç°¿åŠŸèƒ½çš„å°èªŒï¼Œä¸¦ä¸”é™„ä¸ŠåŒæ¨£ä¸»é¡Œçš„è²¼ç´™ã€‚å¤§å®¶èƒ½ä»»æ„æ’•ä¸‹ä¸¦éš¨æ„è²¼ä¸Šï¼Œä»£è¡¨æ—…éŠæ™‚çš„ç•™ä¸‹èˆ‡å¸¶èµ°ï¼Œä¹Ÿå°±æ˜¯ç‚ºä»€éº¼å«åš PASTE PORTã€‚' },
    shop:''
  },

  /* 8. å•è™Ÿè Ÿç‡­ç±¤ */
  {
    id:'questioncandle',
    cover:'work-questioncandle.png',
    basket:'basket_orange.png',
    title:{ zh:'å•è™Ÿè Ÿç‡­ç±¤' },
    meta:{ zh:'å¼µå­ï½œåŠç†Ÿç´™ã€æ¯›æ ¹ï½œç´„ 10 cm' },
    desc:{ zh:'ä»¥å°ç£ç”Ÿæ—¥å•è™Ÿè Ÿç‡­ç‚ºéˆæ„Ÿï¼Œä¸¦çµåˆæ—¥æœ¬å¼µå­ï¼Œè Ÿç‡­ç±¤ä¸‹æ–¹æ‰“é–‹å¾Œå¯æŠ½ç±¤ï¼Œå…§å«ä¸‰æ”¯ç±¤ï¼ˆå…©æ”¯éš¨æ©Ÿä¸€æ”¯ç©ºç™½ï¼‰ï¼Œè±¡å¾µè¨±é¡˜æ™‚çš„ä¸‰å€‹é¡˜æœ›ï¼Œæœ€å¾Œä¸€å€‹ç•™çµ¦è‡ªå·±ã€‚å¸Œæœ›è²·çš„äººéƒ½èƒ½å¾—åˆ°å­¤èŠ³å°éšŠçš„ç¥ç¦ï¼Œä¸¦ä¸”é¡˜æœ›æˆçœŸã€‚' },
    shop:''
  },

  /* 9. å­¤èŠ³å°éšŠ 2026 é¦¬å¹´è³€å¡ */
  {
    id:'horsecard',
    cover:'work-horsecards.png',
    basket:'basket_red.png',
    title:{ zh:'å­¤èŠ³å°éšŠ 2026 é¦¬å¹´è³€å¡' },
    meta:{ zh:'æ˜ä¿¡ç‰‡ï¼å­”ç‰ˆå°åˆ·' },
    desc:{ zh:'ä»¥é¦¬å¹´ç‚ºä¸»é¡Œï¼Œé»åœŸæ‰‹ä½œã€ä¸Šè‰²ã€åˆ†è‰²å­”ç‰ˆå°åˆ·ã€‚è§’è‰²ååœ¨æ–æ–é¦¬ä¸Šï¼Œè±¡å¾µæ”¾æ…¢è…³æ­¥ä¹Ÿæ²’é—œä¿‚ã€‚' },
    shop:''
  },

  /* === â— éè³£å“é–‹å§‹ï¼ˆå…¨éƒ¨æ’æœ€å¾Œï¼‰ === */

  /* 10. ãƒ”ãƒ¼ãƒãã‚“ å¼µã‚Šå­ï¼ˆéè³£å“ï¼‰ */
  {
    id:'pipo',
    cover:'work-pipo.png',
    basket:'basket_green.png',
    title:{ zh:'ãƒ”ãƒ¼ãƒãã‚“ å¼µã‚Šå­ï¼ˆéè³£å“ï¼‰' },
    meta:{ zh:'ç«‹é«”è§’è‰²å¼µå­ï½œç´„ 20 cmï½œéè³£å“' },
    desc:{ zh:'ä»¥å¼µå­å½¢å¼è£½ä½œæ±äº¬è­¦è¦–å»³å‰ç¥¥ç‰©ã€Œãƒ”ãƒ¼ãƒãã‚“ã€ã€‚' },
    shop:''
  },

  /* 11. å­¤èŠ³æ”¶éŸ³æ©Ÿï¼ˆéè³£å“ï¼‰ */
  {
    id:'radio',
    cover:'work-radio.png',
    basket:'basket_red.png',
    title:{ zh:'å­¤èŠ³æ”¶éŸ³æ©Ÿï¼ˆéè³£å“ï¼‰' },
    meta:{ zh:'ç«‹é«”è£ç½®ï½œç´„ 25 cmï½œéè³£å“' },
    desc:{ zh:'ä»¥è²éŸ³ä½œç‚ºå…±é³´è±¡å¾µï¼Œæç¹ªå…©å€‹è§’è‰²åœ¨åŸå¸‚å™ªéŸ³ä¸­çš„é€£ç·šã€‚' },
    shop:''
  },

  /* 12. æ„å˜¶æ˜“å˜¶å•¦ 2025 è›‡å¹´è³€å¡ï¼ˆéè³£å“ï¼‰ */
  {
    id:'snake2025',
    cover:'work-snake2025.png',
    basket:'basket_red.png',
    title:{ zh:'æ„å˜¶æ˜“å˜¶å•¦ 2025 è›‡å¹´è³€å¡ï¼ˆéè³£å“ï¼‰' },
    meta:{ zh:'æ˜ä¿¡ç‰‡ï½œå­”ç‰ˆå°åˆ·' },
    desc:{ zh:'ä»¥è›‡å¹´çš„ã€Œèœ¿èœ’ã€æ»‘å‹•ã€æ„è±¡å»¶ä¼¸å‡ºçš„è³€å¡ä½œå“ã€‚' },
    shop:''
  }

];

/* ============================
   ä½œå“ç‰†ç”Ÿæˆ
   ============================ */
const grid=document.getElementById('workGrid');

function renderGrid(){
  grid.innerHTML=WORKS.map(w=>`
    <article class="card" data-id="${w.id}">
      <img class="star" src="sticker_yellow.png">
      <img class="photo" src="${w.cover}">
      <div class="name">${w.title.zh}</div>
    </article>
  `).join('');
}
renderGrid();

/* ============================
   å½ˆçª—æ§åˆ¶
   ============================ */
const modal=document.getElementById('modal');
const mdTitle=document.getElementById('mdTitle');
const mdMeta=document.getElementById('mdMeta');
const mdDesc=document.getElementById('mdDesc');
const mdPhoto=document.getElementById('mdPhoto');
const mdBasket=document.getElementById('mdBasket');
const mdShop=document.getElementById('mdShop');
const mdShopA=mdShop.querySelector('a');

function openModal(id){
  const w=WORKS.find(x=>x.id===id);
  if(!w) return;

  mdTitle.textContent=w.title.zh;
  mdMeta.textContent=w.meta.zh;
  mdDesc.textContent=w.desc.zh;
  mdPhoto.src=w.cover;
  mdBasket.src=w.basket;

  if(w.shop){
    mdShop.style.display='block';
    mdShopA.href=w.shop;
  }else{
    mdShop.style.display='none';
    mdShopA.removeAttribute('href');
  }

  modal.classList.add('show');
}

function closeModal(){
  modal.classList.remove('show');
}

document.getElementById('workGrid').addEventListener('click',e=>{
  const card=e.target.closest('.card');
  if(card) openModal(card.dataset.id);
});
modal.addEventListener('click',e=>{
  if(e.target.dataset.close) closeModal();
});
document.addEventListener('keydown',e=>{
  if(e.key==='Escape') closeModal();
});

/* ============================
   æ‰“å¡æ©Ÿ scroll è¡Œç‚º
   ============================ */
const punchCard=document.getElementById('punchCard');
const punchMachine=document.getElementById('punchMachine');
const punchOverlay=document.getElementById('punchOverlay');
const punchTimeEl=document.getElementById('punchTime');
const punchTrack=document.querySelector('.punch-track');
let hasPunched=false;

function updatePunchFromScroll(){
  const doc=document.documentElement;
  const scrollTop=doc.scrollTop;
  const scrollHeight=doc.scrollHeight-doc.clientHeight;
  const ratio=scrollTop/scrollHeight;

  const trackHeight=punchTrack.clientHeight;
  const cardHeight=punchCard.clientHeight;
  const machineHeight=punchMachine.clientHeight;

  const bottomLimit=trackHeight-cardHeight-machineHeight*0.3;
  const pos=bottomLimit*ratio;

  punchCard.style.transform=`translate(-50%,${pos}px)`;

  if(!hasPunched && ratio>=0.98){
    hasPunched=true;
    punchTimeEl.textContent=new Date().toLocaleString('zh-TW');
    punchOverlay.classList.add('show');
  }
}

window.addEventListener('scroll',updatePunchFromScroll);
window.addEventListener('load',updatePunchFromScroll);
window.addEventListener('resize',updatePunchFromScroll);

punchOverlay.addEventListener('click',()=>{
  punchOverlay.classList.remove('show');
});

/* ============================
   èªè¨€æŒ‰éˆ•ï¼ˆç›®å‰åªæœ‰ active æ¨£å¼ï¼‰
   ============================ */
document.querySelectorAll('.lang-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.lang-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
  });
});
</script>

</body>
</html>
